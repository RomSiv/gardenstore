{"ast":null,"code":"const ADD_SALE_PRODUCTS = 'ADD_SALE_PRODUCTS';\nconst SORT_PRODUCTS_OF_SALE = \"SORT_PRODUCTS_OF_SALE\";\nconst FILTER_PRODUCTS_OF_SALE = \"FILTER_PRODUCTS_OF_SALE\";\nexport const addSaleProductsAction = payload => ({\n  type: ADD_SALE_PRODUCTS,\n  payload\n});\nexport const sortProductsOfSaleAction = payload => ({\n  type: SORT_PRODUCTS_OF_SALE,\n  payload\n});\nexport const filterProductsOfSaleAction = payload => ({\n  type: FILTER_PRODUCTS_OF_SALE,\n  payload\n});\nexport const saleReducer = (state = [], action) => {\n  if (action.type === ADD_SALE_PRODUCTS) {\n    return action.payload.filter(el => el.discont_price !== null).map(el => ({\n      ...el,\n      show_product: true\n    }));\n  } else if (action.type === SORT_PRODUCTS_OF_SALE) {\n    if (action.payload === 'title') {\n      state.sort((a, b) => a.title.localeCompare(b.title));\n    } else if (action.payload === 'price_asc') {\n      state.sort((a, b) => a.discont_price - b.discont_price);\n    } else if (action.payload === 'price_desc') {\n      state.sort((a, b) => b.discont_price - a.discont_price);\n    }\n    return [...state];\n  } else if (action.type === FILTER_PRODUCTS_OF_SALE) {\n    const {\n      min_value,\n      max_value\n    } = action.payload;\n    return state.map(el => {\n      if (el.discont_price >= min_value && el.discont_price <= max_value) {\n        el.show_product = true;\n      } else {\n        el.show_product = false;\n      }\n      return el;\n    });\n  } else {\n    return state;\n  }\n};","map":{"version":3,"names":["ADD_SALE_PRODUCTS","SORT_PRODUCTS_OF_SALE","FILTER_PRODUCTS_OF_SALE","addSaleProductsAction","payload","type","sortProductsOfSaleAction","filterProductsOfSaleAction","saleReducer","state","action","filter","el","discont_price","map","show_product","sort","a","b","title","localeCompare","min_value","max_value"],"sources":["/Users/ramansivets/Projects/gardenstore/front/src/reducers/saleReducer.js"],"sourcesContent":["const ADD_SALE_PRODUCTS = 'ADD_SALE_PRODUCTS'\nconst SORT_PRODUCTS_OF_SALE = \"SORT_PRODUCTS_OF_SALE\"\nconst FILTER_PRODUCTS_OF_SALE = \"FILTER_PRODUCTS_OF_SALE\" \n\nexport const addSaleProductsAction = payload => ({ type: ADD_SALE_PRODUCTS, payload })\nexport const sortProductsOfSaleAction = payload => ({type: SORT_PRODUCTS_OF_SALE, payload})\nexport const filterProductsOfSaleAction = payload => ({type: FILTER_PRODUCTS_OF_SALE, payload})\n\nexport const saleReducer = (state = [], action) => {\n    if(action.type === ADD_SALE_PRODUCTS) {\n        return action.payload\n        .filter(el => el.discont_price !== null)\n        .map(el => ({ ...el, show_product: true }))\n        \n    }else if(action.type === SORT_PRODUCTS_OF_SALE){\n        if(action.payload === 'title'){\n            state.sort((a, b) => a.title.localeCompare(b.title))\n        } else if(action.payload === 'price_asc') {\n            state.sort((a, b) => a.discont_price - b.discont_price)\n        } else if(action.payload === 'price_desc'){\n            state.sort((a, b) => b.discont_price - a.discont_price)\n        }\n        return [...state]\n\n        }else if(action.type === FILTER_PRODUCTS_OF_SALE) {\n            const { min_value, max_value } = action.payload\n            return state.map(el => {\n                if(el.discont_price >= min_value && el.discont_price <= max_value){\n                    el.show_product = true\n                } else {\n                    el.show_product = false\n                }\n                return el\n            })\n        } else {\n        return state\n    }\n}"],"mappings":"AAAA,MAAMA,iBAAiB,GAAG,mBAAmB;AAC7C,MAAMC,qBAAqB,GAAG,uBAAuB;AACrD,MAAMC,uBAAuB,GAAG,yBAAyB;AAEzD,OAAO,MAAMC,qBAAqB,GAAGC,OAAO,KAAK;EAAEC,IAAI,EAAEL,iBAAiB;EAAEI;AAAQ,CAAC,CAAC;AACtF,OAAO,MAAME,wBAAwB,GAAGF,OAAO,KAAK;EAACC,IAAI,EAAEJ,qBAAqB;EAAEG;AAAO,CAAC,CAAC;AAC3F,OAAO,MAAMG,0BAA0B,GAAGH,OAAO,KAAK;EAACC,IAAI,EAAEH,uBAAuB;EAAEE;AAAO,CAAC,CAAC;AAE/F,OAAO,MAAMI,WAAW,GAAGA,CAACC,KAAK,GAAG,EAAE,EAAEC,MAAM,KAAK;EAC/C,IAAGA,MAAM,CAACL,IAAI,KAAKL,iBAAiB,EAAE;IAClC,OAAOU,MAAM,CAACN,OAAO,CACpBO,MAAM,CAACC,EAAE,IAAIA,EAAE,CAACC,aAAa,KAAK,IAAI,CAAC,CACvCC,GAAG,CAACF,EAAE,KAAK;MAAE,GAAGA,EAAE;MAAEG,YAAY,EAAE;IAAK,CAAC,CAAC,CAAC;EAE/C,CAAC,MAAK,IAAGL,MAAM,CAACL,IAAI,KAAKJ,qBAAqB,EAAC;IAC3C,IAAGS,MAAM,CAACN,OAAO,KAAK,OAAO,EAAC;MAC1BK,KAAK,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,KAAK,CAACC,aAAa,CAACF,CAAC,CAACC,KAAK,CAAC,CAAC;IACxD,CAAC,MAAM,IAAGT,MAAM,CAACN,OAAO,KAAK,WAAW,EAAE;MACtCK,KAAK,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACJ,aAAa,GAAGK,CAAC,CAACL,aAAa,CAAC;IAC3D,CAAC,MAAM,IAAGH,MAAM,CAACN,OAAO,KAAK,YAAY,EAAC;MACtCK,KAAK,CAACO,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACL,aAAa,GAAGI,CAAC,CAACJ,aAAa,CAAC;IAC3D;IACA,OAAO,CAAC,GAAGJ,KAAK,CAAC;EAEjB,CAAC,MAAK,IAAGC,MAAM,CAACL,IAAI,KAAKH,uBAAuB,EAAE;IAC9C,MAAM;MAAEmB,SAAS;MAAEC;IAAU,CAAC,GAAGZ,MAAM,CAACN,OAAO;IAC/C,OAAOK,KAAK,CAACK,GAAG,CAACF,EAAE,IAAI;MACnB,IAAGA,EAAE,CAACC,aAAa,IAAIQ,SAAS,IAAIT,EAAE,CAACC,aAAa,IAAIS,SAAS,EAAC;QAC9DV,EAAE,CAACG,YAAY,GAAG,IAAI;MAC1B,CAAC,MAAM;QACHH,EAAE,CAACG,YAAY,GAAG,KAAK;MAC3B;MACA,OAAOH,EAAE;IACb,CAAC,CAAC;EACN,CAAC,MAAM;IACP,OAAOH,KAAK;EAChB;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}