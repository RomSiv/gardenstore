{"ast":null,"code":"const LOAD_ALL_PRODUCTS_BY_CATEGORY = 'LOAD_ALL_PRODUCTS_BY_CATEGORY';\nconst LOAD_SINGLE_PRODUCT = 'LOAD_SINGLE_PRODUCT';\nexport const loadProductsByCategoryAction = payload => ({\n  type: LOAD_ALL_PRODUCTS_BY_CATEGORY,\n  payload\n});\nexport const loadSingleProductAction = payload => ({\n  type: LOAD_SINGLE_PRODUCT,\n  payload\n});\nexport const productsByCategoryReducer = (state = [], action) => {\n  if (action.type === LOAD_ALL_PRODUCTS_BY_CATEGORY) {\n    return action.payload.map(el => ({\n      ...el,\n      show_product: true\n    }));\n  } else if (action.type === SORT_PRODUCTS) {\n    if (action.payload === 'title') {\n      state.sort((a, b) => a.title.localeCompare(b.title));\n    } else if (action.payload === 'price_asc') {\n      state.sort((a, b) => a.price - b.price);\n    } else if (action.payload === 'price_desc') {\n      state.sort((a, b) => b.price - a.price);\n    }\n    return [...state];\n  } else if (action.type === FILTER_PRODUCTS) {\n    const {\n      min_value,\n      max_value\n    } = action.payload;\n    return state.map(el => {\n      if (el.price >= min_value && el.price <= max_value) {\n        el.show_product = true;\n      } else {\n        el.show_product = false;\n      }\n      return el;\n    });\n  } else if (action.type === DISCONTED_PRODUCTS) {\n    if (action.payload) {\n      return state.map(el => {\n        if (el.discont_price === null) {\n          el.show_product = false;\n        }\n        return el;\n      });\n    } else {\n      return state.map(el => {\n        el.show_product = true;\n        return el;\n      });\n    }\n  } else {\n    return state;\n  }\n};\nexport const singleProductReducer = (state = [], action) => {\n  if (action.type === LOAD_SINGLE_PRODUCT) {\n    return action.payload;\n  } else {\n    return state;\n  }\n};","map":{"version":3,"names":["LOAD_ALL_PRODUCTS_BY_CATEGORY","LOAD_SINGLE_PRODUCT","loadProductsByCategoryAction","payload","type","loadSingleProductAction","productsByCategoryReducer","state","action","map","el","show_product","SORT_PRODUCTS","sort","a","b","title","localeCompare","price","FILTER_PRODUCTS","min_value","max_value","DISCONTED_PRODUCTS","discont_price","singleProductReducer"],"sources":["/Users/ramansivets/VisuaStudioCode/React/Projects/course_project/front/src/reducers/productsByCategoryReducer.js"],"sourcesContent":["const LOAD_ALL_PRODUCTS_BY_CATEGORY = 'LOAD_ALL_PRODUCTS_BY_CATEGORY'\nconst LOAD_SINGLE_PRODUCT = 'LOAD_SINGLE_PRODUCT'\n\n\nexport const loadProductsByCategoryAction = payload => ({ type: LOAD_ALL_PRODUCTS_BY_CATEGORY, payload })\nexport const loadSingleProductAction = payload => ({ type: LOAD_SINGLE_PRODUCT, payload })\n\nexport const productsByCategoryReducer = (state = [], action) => {\n    if(action.type === LOAD_ALL_PRODUCTS_BY_CATEGORY){\n        return action.payload.map(el => ({ ...el, show_product: true }))\n    } else if(action.type === SORT_PRODUCTS){\n        if(action.payload === 'title'){\n            state.sort((a, b) => a.title.localeCompare(b.title))\n        } else if(action.payload === 'price_asc') {\n            state.sort((a, b) => a.price - b.price)\n        } else if(action.payload === 'price_desc'){\n            state.sort((a, b) => b.price - a.price)\n        }\n        return [...state]\n        }else if(action.type === FILTER_PRODUCTS) {\n            const { min_value, max_value } = action.payload\n            return state.map(el => {\n                if(el.price >= min_value && el.price <= max_value){\n                    el.show_product = true\n                } else {\n                    el.show_product = false\n                }\n                return el\n            })\n    } else if(action.type === DISCONTED_PRODUCTS){\n        if(action.payload){\n            return state.map(el => {\n              if(el.discont_price === null){\n                el.show_product = false\n              }\n              return el\n            })\n          } else {\n            return state.map(el => {\n              el.show_product = true;\n              return el\n            })\n          }\n        } else {\n          return state\n        }\n      }\n\nexport const singleProductReducer = (state = [], action) => {\n    if(action.type === LOAD_SINGLE_PRODUCT){\n        return action.payload\n    } else {\n        return state\n    }\n}"],"mappings":"AAAA,MAAMA,6BAA6B,GAAG,+BAA+B;AACrE,MAAMC,mBAAmB,GAAG,qBAAqB;AAGjD,OAAO,MAAMC,4BAA4B,GAAGC,OAAO,KAAK;EAAEC,IAAI,EAAEJ,6BAA6B;EAAEG;AAAQ,CAAC,CAAC;AACzG,OAAO,MAAME,uBAAuB,GAAGF,OAAO,KAAK;EAAEC,IAAI,EAAEH,mBAAmB;EAAEE;AAAQ,CAAC,CAAC;AAE1F,OAAO,MAAMG,yBAAyB,GAAGA,CAACC,KAAK,GAAG,EAAE,EAAEC,MAAM,KAAK;EAC7D,IAAGA,MAAM,CAACJ,IAAI,KAAKJ,6BAA6B,EAAC;IAC7C,OAAOQ,MAAM,CAACL,OAAO,CAACM,GAAG,CAACC,EAAE,KAAK;MAAE,GAAGA,EAAE;MAAEC,YAAY,EAAE;IAAK,CAAC,CAAC,CAAC;EACpE,CAAC,MAAM,IAAGH,MAAM,CAACJ,IAAI,KAAKQ,aAAa,EAAC;IACpC,IAAGJ,MAAM,CAACL,OAAO,KAAK,OAAO,EAAC;MAC1BI,KAAK,CAACM,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,KAAK,CAACC,aAAa,CAACF,CAAC,CAACC,KAAK,CAAC,CAAC;IACxD,CAAC,MAAM,IAAGR,MAAM,CAACL,OAAO,KAAK,WAAW,EAAE;MACtCI,KAAK,CAACM,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACI,KAAK,GAAGH,CAAC,CAACG,KAAK,CAAC;IAC3C,CAAC,MAAM,IAAGV,MAAM,CAACL,OAAO,KAAK,YAAY,EAAC;MACtCI,KAAK,CAACM,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACG,KAAK,GAAGJ,CAAC,CAACI,KAAK,CAAC;IAC3C;IACA,OAAO,CAAC,GAAGX,KAAK,CAAC;EACjB,CAAC,MAAK,IAAGC,MAAM,CAACJ,IAAI,KAAKe,eAAe,EAAE;IACtC,MAAM;MAAEC,SAAS;MAAEC;IAAU,CAAC,GAAGb,MAAM,CAACL,OAAO;IAC/C,OAAOI,KAAK,CAACE,GAAG,CAACC,EAAE,IAAI;MACnB,IAAGA,EAAE,CAACQ,KAAK,IAAIE,SAAS,IAAIV,EAAE,CAACQ,KAAK,IAAIG,SAAS,EAAC;QAC9CX,EAAE,CAACC,YAAY,GAAG,IAAI;MAC1B,CAAC,MAAM;QACHD,EAAE,CAACC,YAAY,GAAG,KAAK;MAC3B;MACA,OAAOD,EAAE;IACb,CAAC,CAAC;EACV,CAAC,MAAM,IAAGF,MAAM,CAACJ,IAAI,KAAKkB,kBAAkB,EAAC;IACzC,IAAGd,MAAM,CAACL,OAAO,EAAC;MACd,OAAOI,KAAK,CAACE,GAAG,CAACC,EAAE,IAAI;QACrB,IAAGA,EAAE,CAACa,aAAa,KAAK,IAAI,EAAC;UAC3Bb,EAAE,CAACC,YAAY,GAAG,KAAK;QACzB;QACA,OAAOD,EAAE;MACX,CAAC,CAAC;IACJ,CAAC,MAAM;MACL,OAAOH,KAAK,CAACE,GAAG,CAACC,EAAE,IAAI;QACrBA,EAAE,CAACC,YAAY,GAAG,IAAI;QACtB,OAAOD,EAAE;MACX,CAAC,CAAC;IACJ;EACF,CAAC,MAAM;IACL,OAAOH,KAAK;EACd;AACF,CAAC;AAEP,OAAO,MAAMiB,oBAAoB,GAAGA,CAACjB,KAAK,GAAG,EAAE,EAAEC,MAAM,KAAK;EACxD,IAAGA,MAAM,CAACJ,IAAI,KAAKH,mBAAmB,EAAC;IACnC,OAAOO,MAAM,CAACL,OAAO;EACzB,CAAC,MAAM;IACH,OAAOI,KAAK;EAChB;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}